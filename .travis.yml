language: c

notifications:
  email: false

branches:
  only:
    - master
    - release

sudo: required

matrix:
  include:
    - os: linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-6

install:
  - bash .travis_install.bash

script:
  - bash .travis_script.bash

deploy:
  - provider: bintray
    user: pony-buildbot-2
    file: /home/travis/build/ponylang/pony-stable/bintray_debian.json
    on:
      branch: release
    key:
      secure: "hMe8mCHOSqvbwRaUys94qyYrqKXtwE+LmZ4qNXgHPuCiG366DKNnn9n/Z79WhXmCBzkEfvC0lu2fhl2nOyiL4CW3e5AiWHklKaaluYCYF73rxX1jwyqIhjV5cUg5fJ9wkGj7nfXcerQebsMVfxFf9DQpGGgXDka6+pPBzZk/hVscliOsrLVWyvxcbqwXE58kpFMVBzbW5wEXLVEqJu7wV1Ppqbk/w65TZOjVyWn4R15Y9rRUGZch3j7v+r+KGQJrRcaBZEvIJLp4nYm1ONF2IT4X+Uv8mr2LfO5YqCKCSaFCPw9CWD0ghKJpWZFWhc1emdbkghNN/CH2m3EmuYV6Z2w/z61EivxmEQwHV8XDL84sPzlYcCCjUuzAt2GYiL57CDRQjECLvCQ4PTQey7o0Gfs5OcnZLhadbYbYE/MC1baYUmMgvN6MvyX5cwVxeLU9fhEDvLLTerz0r0a7pQlusKWin1BrZgOF3GReiqWQRt489IdhTsrIGrSSp+MQUZJAwLaiJkkNBMQyt/pQ+yKzoMYzxVBjjD2JaHuf2cgU9DgUUd2aRyiNbTWucRv2fltkeK150zbKiBTwu488HZlWQH1G+fRdDlvbTeD44QD7fym+Z1TGBHdQXsjPom1l+FXn9hysuVWwt3AuamAdnQB1V/9/vq1UH/qaOuu0yXekQ6E="

  - provider: bintray
    user: pony-buildbot-2
    file: /home/travis/build/ponylang/pony-stable/bintray_rpm.json
    on:
      branch: release
    key:
      secure: "hMe8mCHOSqvbwRaUys94qyYrqKXtwE+LmZ4qNXgHPuCiG366DKNnn9n/Z79WhXmCBzkEfvC0lu2fhl2nOyiL4CW3e5AiWHklKaaluYCYF73rxX1jwyqIhjV5cUg5fJ9wkGj7nfXcerQebsMVfxFf9DQpGGgXDka6+pPBzZk/hVscliOsrLVWyvxcbqwXE58kpFMVBzbW5wEXLVEqJu7wV1Ppqbk/w65TZOjVyWn4R15Y9rRUGZch3j7v+r+KGQJrRcaBZEvIJLp4nYm1ONF2IT4X+Uv8mr2LfO5YqCKCSaFCPw9CWD0ghKJpWZFWhc1emdbkghNN/CH2m3EmuYV6Z2w/z61EivxmEQwHV8XDL84sPzlYcCCjUuzAt2GYiL57CDRQjECLvCQ4PTQey7o0Gfs5OcnZLhadbYbYE/MC1baYUmMgvN6MvyX5cwVxeLU9fhEDvLLTerz0r0a7pQlusKWin1BrZgOF3GReiqWQRt489IdhTsrIGrSSp+MQUZJAwLaiJkkNBMQyt/pQ+yKzoMYzxVBjjD2JaHuf2cgU9DgUUd2aRyiNbTWucRv2fltkeK150zbKiBTwu488HZlWQH1G+fRdDlvbTeD44QD7fym+Z1TGBHdQXsjPom1l+FXn9hysuVWwt3AuamAdnQB1V/9/vq1UH/qaOuu0yXekQ6E="
