language: c

notifications:
  email: false

branches:
  only:
    - master
    - release

sudo: required

matrix:
  include:
    - os: linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-6

install:
  - bash .travis_install.bash

script:
  - bash .travis_script.bash

deploy:
  - provider: bintray
    user: pony-buildbot-2
    file: /home/travis/build/ponylang/pony-stable/bintray_debian.json
    on:
      branch: release
    key:
      secure: "Tlz/TS21ulVSbp1CvUpHHABgECC4g8gIol83yvm1NtICTAPUCrXmaod04KQ/uLol0boLN3OXMkPFGsreOkAqnpc3LMYCR2Mn/t7OjnpFgMUXHyjoCKUeyVgrEsD7dBSDgdxgt96Yl85wiN15fq/K3vHuhmCfsqXLahgh+lHAnUPE06S6McofPbYD+UFblD3aHzOmaFI6vzMwOsj6qwHfuCiO0TMJOFaktvCsTIzVW62Cb9BOSzvmkuOKc/Tf0vrj/G4i8TOw1lhM9nMvhhv8uTD6fUQmc0k/dtznI2j6a7+UmkPwbGFS7M3fKuE+DXcOp+aisYW4qGkaMtGgh1/1kcEr8LxurhBYDWJHiWC+006HT1iqTTziTdfxPURmaflDEYnVfSJhr0F4WF6fAxie2a//qLuhWq7a448XEMe7Dl7tOw9LJIi+pGTTY/qs2E6Jb/KktJ/8E7x2gQMoMKOCSxTOnj0ioOG7pFOs0MB0DV8dUSYbu0mWmSqr/b5F1JpQXxPXOQVX7XefsUMDb4VqA+6pnT1tjY1InPEeim2m0KiepFMa3i/rPIzC12hPk8Ayv3Egt8AjxFfDs/U28TjcDIyb1kQBdcBGyBSylVc/Ft0HtlW9P5oonJZ5zVCUzpRAOEqAHrFTmmRAh9ZaXK6qvzsrCjPURGLFhYgjRDabGnA="

  - provider: bintray
    user: pony-buildbot-2
    file: /home/travis/build/ponylang/pony-stable/bintray_rpm.json
    on:
      branch: release
    key:
      secure: "Tlz/TS21ulVSbp1CvUpHHABgECC4g8gIol83yvm1NtICTAPUCrXmaod04KQ/uLol0boLN3OXMkPFGsreOkAqnpc3LMYCR2Mn/t7OjnpFgMUXHyjoCKUeyVgrEsD7dBSDgdxgt96Yl85wiN15fq/K3vHuhmCfsqXLahgh+lHAnUPE06S6McofPbYD+UFblD3aHzOmaFI6vzMwOsj6qwHfuCiO0TMJOFaktvCsTIzVW62Cb9BOSzvmkuOKc/Tf0vrj/G4i8TOw1lhM9nMvhhv8uTD6fUQmc0k/dtznI2j6a7+UmkPwbGFS7M3fKuE+DXcOp+aisYW4qGkaMtGgh1/1kcEr8LxurhBYDWJHiWC+006HT1iqTTziTdfxPURmaflDEYnVfSJhr0F4WF6fAxie2a//qLuhWq7a448XEMe7Dl7tOw9LJIi+pGTTY/qs2E6Jb/KktJ/8E7x2gQMoMKOCSxTOnj0ioOG7pFOs0MB0DV8dUSYbu0mWmSqr/b5F1JpQXxPXOQVX7XefsUMDb4VqA+6pnT1tjY1InPEeim2m0KiepFMa3i/rPIzC12hPk8Ayv3Egt8AjxFfDs/U28TjcDIyb1kQBdcBGyBSylVc/Ft0HtlW9P5oonJZ5zVCUzpRAOEqAHrFTmmRAh9ZaXK6qvzsrCjPURGLFhYgjRDabGnA="
